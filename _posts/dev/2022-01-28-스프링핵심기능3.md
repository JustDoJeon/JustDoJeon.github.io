---
layout : single
title: "ìŠ¤í”„ë§ í•µì‹¬ ê¸°ëŠ¥ í”„ë¡œì íŠ¸ 3 "
summary : ì£¼ë¬¸ê³¼ í• ì¸ ê´€ë ¨ ë„ë©”ì¸ ê°œë°œ 
date: '2022-01-28 00:00:00 +0900'
category: Spring
toc: true
toc_sticky: true

---
<br>

## ğŸ“Œ ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ê°œë°œ

> í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤

```java

```

<BR>

> ì •ì•¡ í• ì¸ ì •ì±… êµ¬í˜„ì²´

```java
public interface DiscountPolicy {

 /**
 * @return í• ì¸ ëŒ€ìƒ ê¸ˆì•¡
 */
 int discount(Member member, int price);

}
```

<br>

> í• ì¸ ì •ì±… ì¸í„°í˜ì´ìŠ¤


```java

public class FixDiscountPolicy implements DiscountPolicy {

 private int discountFixAmount = 1000; //1000ì› í• ì¸
 
 @Override
 public int discount(Member member, int price) {
 
    if (member.getGrade() == Grade.VIP) 
    {
     return discountFixAmount;
    } 
    else{
        return 0;
        }
    }
}

```

<br>

> ì£¼ë¬¸ ì—”í‹°í‹°

```java

public class Order {

    private Long memberId;
    private String itemName;
    private int itemPrice;
    private int discountPrice;

    public Order(Long memberId, String itemName, int itemPrice, int discountPrice) {
        this.memberId = memberId;
        this.itemName = itemName;
        this.itemPrice = itemPrice;
        this.discountPrice = discountPrice;
    }

    public Long getMemberId() {
        return memberId;
    }

    public void setMemberId(Long memberId) {
        this.memberId = memberId;
    }

    public String getItemName() {
        return itemName;
    }

    public void setItemName(String itemName) {
        this.itemName = itemName;
    }

    public int getItemPrice() {
        return itemPrice;
    }

    public void setItemPrice(int itemPrice) {
        this.itemPrice = itemPrice;
    }

    public int getDiscountPrice() {
        return discountPrice;
    }

    public void setDiscountPrice(int discountPrice) {
        this.discountPrice = discountPrice;
    }

    public int calculatePrice() {
        return itemPrice - discountPrice;
    }

    @Override
    public String toString() {
        return "Order{" +
                "memberId=" + memberId +
                ", itemName='" + itemName + '\'' +
                ", itemPrice=" + itemPrice +
                ", discountPrice=" + discountPrice +
                '}';
    }
}


```

<br>

> ì£¼ë¬¸ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤

```java
public interface OrderService {

    Order createOrder(Long memberId, String itemName,int itemPrice);
}

```

<br>

> ì£¼ë¬¸ ì„œë¹„ìŠ¤ êµ¬í˜„ì²´

```java
//OrderServiceì˜ ì…ì¥ì—ì„  í• ì¸ì€ ë‚œ ëª¨ë¥´ê² ìœ¼ë‹ˆ ë„ˆê°€ ë˜ì ¸ì£¼ê¸°ë§Œí•´ì¤˜ (SRP)
public class OrderServiceImpl implements  OrderService{

    private final MemberRepository memberRepository = new MemoryMemberRepository();

    private final DiscountPolicy discountPolicy = new FixDiscountPolicy();

    @Override
    public Order createOrder(Long memberId, String itemName, int itemPrice) {
        Member member = memberRepository.findById(memberId);

        int disCountPrice = discountPolicy.discount(member,itemPrice);

        return new Order(memberId,itemName,itemPrice,disCountPrice);
    }
}
```

<Br>

## ì£¼ë¬¸ê³¼ í• ì¸ ë„ë©”ì¸ ì‹¤í–‰

> ì£¼ë¬¸ê³¼ í• ì¸ ì •ì±… ì‹¤í–‰

```java
public class OrderApp {

    public static void main(String[] args) {
        MemberService memberService = new MemberServiceImpl();
        OrderService orderService = new OrderServiceImpl();

        Long memberId = 1L;
        Member member = new Member(memberId,"memberA", Grade.VIP);
        memberService.join(member);

        Order order = orderService.createOrder(memberId,"itemA",10000);

        System.out.println("order = " + order);

    }
}

```


<br>

# 
ğŸ‘‰ ì°¸ì¡° : [ì¸í”„ëŸ°](https://www.inflearn.com/)ì˜ ê¹€ì˜í•œë‹˜
ê°•ì˜ , [ë‚¨ê¶ì„±ë‹˜ì˜ ìë°”ì˜ì •ì„] , [ìœ„í‚¤ë°±ê³¼](https://ko.wikipedia.org/wiki/SOLID_%EA%B0%9D%EC%B2%B4_%EC%A7%80%ED%96%A5_%EC%84%A4%EA%B3%84)

<br>
ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„
<br>

**ê°œì¸ë©”ëª¨**_
